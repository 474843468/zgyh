/*! BUILD: 2016-12-19 */
define("dateUtil",["zepto","model","routesUtil","common"],function(a,b,c,d){var e={getCurrentTime:function(a){b.interaction({method:c.method.BII.querySystemDateTime,params:{}},"BII",function(b){if(b){var c=b.dateTme.split(" ");a({date:c[0],time:c[1]})}})},formatDateToString:function(a,b){var c=a.getMonth()+1,d=a.getDate(),e=a.getMinutes(),f=a.getSeconds(),g=a.getHours(),b=b||"%Y/%m/%d";month=10>c?"0"+c:""+c,day=10>d?"0"+d:""+d;var h,i,j;return h=10>g?"0"+g:""+g,i=10>e?"0"+e:""+e,j=10>f?"0"+f:""+f,b.replace("%Y",a.getFullYear()).replace("%m",month).replace("%d",day).replace("%H",h).replace("%M",i).replace("%S",j)},getDateObj:function(a){return new Date(a.replace(/\-/g,"/"))},getDateString:function(a){return""==a&&null==a?"":a.substr(0,4)+"/"+a.substr(4,2)+"/"+a.substr(6,2)},countTime:function(a,b){if(a)var c=setInterval(function(){a--,1>a?(b.html("重发"),clearInterval(c)):b.html("重发："+a)},1e3)},renderDateMore:function(a,b){if(b.constructor!==Array)throw new Error("The 'array' Parameter Type Error...");for(var c=b.length,d=0;c>d;d++)this.renderDateSingle(a,b[d])},addDays:function(a,b){var c;if("string"==typeof a)c=this.getDateObj(a),c.setTime(c.getTime()+3600*b*24*1e3);else{if(a.constructor!==Date)throw new Error("The 'date' Parameter Type Error...");c=new Date,c.setTime(a.getTime()+3600*b*24*1e3)}return c},addMonths:function(a,b){var c;if("string"==typeof a)c=this.getDateObj(a),c.setMonth(c.getMonth()+b);else{if(a.constructor!==Date)throw new Error("The 'date' Parameter Type Error...");c=new Date,c.setTime(a.getTime()),c.setMonth(a.getMonth()+b)}return c},addYears:function(a,b){var c;if("string"==typeof a)c=this.getDateObj(a),c.setFullYear(c.getFullYear()+b);else{if(a.constructor!==Date)throw new Error("The 'date' Parameter Type Error...");c=new Date,c.setTime(a.getTime()),c.setMonth(a.getMonth()),c.setFullYear(a.getFullYear()+b)}return c},dateLimit:function(a,b,c,d){a=this.getDateObj(a),b=this.getDateObj(b),"Y"==c?(b.setFullYear(b.getFullYear()+d),b.setDate(b.getDate())):"M"==c&&(b.setMonth(b.getMonth()+d),b.setDate(b.getDate()));var e=(a-b)/864e5;return e>0?!1:!0},inOneMonth:function(a,b,c){return this.dateLimit(a,b,"M",1)?!0:(d.showMessage(c+this._getTip("dt0002")),!1)},inThreeMonth:function(a,b,c,e){return this.dateLimit(a,b,"M",3)?!0:(d.showMessage(c+this._getTip("dt0003")+e+this._getTip("dt0004")),!1)},inSixMonth:function(a,b,c){return this.dateLimit(a,b,"M",6)?!0:(d.showMessage(c+this._getTip("dt0005")),!1)},inOneYear:function(a,b,c){return this.dateLimit(a,b,"Y",1)?!0:(d.showMessage(c+this._getTip("dt0006")),!1)},compare:function(a,b,c,e,f){var g=Date.parse(a.replace(/\-/g,"/")),h=Date.parse(b.replace(/\-/g,"/")),i=(g-h)/864e5;if(1===f&&0>i)return d.showMessage(c+this._getTip("dt0009")+e),!1;if(2===f&&0==i)return d.showMessage(c+this._getTip("dt0008")+e),!1;if(3===f&&i>0)return d.showMessage(c+this._getTip("dt0007")+e),!1;if(4===f&&0>=i)return d.showMessage(c+this._getTip("dt0011")+e),!1;if(5===f&&i>=0)return d.showMessage(c+this._getTip("dt0010")+e),!1;if(!f)throw new Error("Not Support Compare...");return!0},_getTip:function(a){var b={dt0001:"只能是",dt0002:"可以设置为未来一个月内的任意一天",dt0003:"和",dt0004:"范围为三个自然月",dt0005:"可以设置为未来六个月内的任意一天",dt0006:"可以设置为未来一年内的任意一天",dt0007:"不应晚于",dt0008:"不能等于",dt0009:"不应早于",dt0010:"不应晚于或等于",dt0011:"不应早于或等于"};return b[a]},format:function(a,b){var c=this.formatLogic,d=-1!==b.indexOf("a")||-1!==b.indexOf("A"),e=[];e.d=a.getDate(),e.dd=c.pad(e.d,2),e.ddd=c.i18n.shortDayNames[a.getDay()],e.dddd=c.i18n.dayNames[a.getDay()],e.M=a.getMonth()+1,e.MM=c.pad(e.M,2),e.MMM=c.i18n.shortMonthNames[e.M-1],e.MMMM=c.i18n.monthNames[e.M-1],e.yyyy=a.getFullYear(),e.yyy=c.pad(e.yyyy,2)+"y",e.yy=c.pad(e.yyyy,2),e.y="y",e.H=a.getHours(),e.hh=c.pad(d?c.convertTo12Hour(e.H):e.H,2),e.h=d?c.convertTo12Hour(e.H):e.H,e.HH=c.pad(e.H,2),e.m=a.getMinutes(),e.mm=c.pad(e.m,2),e.s=a.getSeconds(),e.ss=c.pad(e.s,2),e.z=a.getMilliseconds(),e.zz=e.z+"z",e.zzz=c.pad(e.z,3),e.ap=e.H<12?"am":"pm",e.a=e.H<12?"am":"pm",e.AP=e.H<12?"AM":"PM",e.A=e.H<12?"AM":"PM";for(var f=0,g="",h="";f<b.length;){for(h=b.charAt(f);f+1<b.length&&void 0!==e[h+b.charAt(f+1)];)h+=b.charAt(++f);g+=void 0!==e[h]?e[h]:h,f++}return g},formatLogic:{pad:function(a,b){var c=1,d="";if(1>b)return"";for(var e=0;b>e;e++)c*=10,d+="0";var f=a;return f=d+a,f=f.substring(f.length-b)},convertTo12Hour:function(a){return a%12===0?12:a%12},i18n:{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},parse:function(a,b){var c=new Date(2e3,0,1),d=[];d.d="([0-9][0-9]?)",d.dd="([0-9][0-9])",d.M="([0-9][0-9]?)",d.MM="([0-9][0-9])",d.yyyy="([0-9][0-9][0-9][0-9])",d.yyy="([0-9][0-9])[y]",d.yy="([0-9][0-9])",d.H="([0-9][0-9]?)",d.hh="([0-9][0-9])",d.h="([0-9][0-9]?)",d.HH="([0-9][0-9])",d.m="([0-9][0-9]?)",d.mm="([0-9][0-9])",d.s="([0-9][0-9]?)",d.ss="([0-9][0-9])",d.z="([0-9][0-9]?[0-9]?)",d.zz="([0-9][0-9]?[0-9]?)[z]",d.zzz="([0-9][0-9][0-9])",d.ap="([ap][m])",d.a="([ap][m])",d.AP="([AP][M])",d.A="([AP][M])";for(var e=this.parseLogic,f=0,g="",h=new Array(""),i="";f<b.length;){for(i=b.charAt(f);f+1<b.length&&void 0!==d[i+b.charAt(f+1)];)i+=b.charAt(++f);void 0!==d[i]?(g+=d[i],h[h.length]=i):g+=i,f++}var j=new RegExp(g),k=a.match(j);if(void 0===k||k.length!==h.length)return void 0;for(f=0;f<h.length;f++)if(""!==h[f])switch(h[f]){case"yyyy":case"yyy":c.setYear(e.parseInt(k[f]));break;case"yy":c.setYear(2e3+e.parseInt(k[f]));break;case"MM":case"M":c.setMonth(e.parseInt(k[f])-1);break;case"dd":case"d":c.setDate(e.parseInt(k[f]));break;case"hh":case"h":case"HH":case"H":c.setHours(e.parseInt(k[f]));break;case"mm":case"m":c.setMinutes(e.parseInt(k[f]));break;case"ss":case"s":c.setSeconds(e.parseInt(k[f]));break;case"zzz":case"zz":case"z":c.setMilliseconds(e.parseInt(k[f]));break;case"AP":case"A":case"ap":case"a":("PM"===k[f]||"pm"===k[f])&&c.getHours()<12&&c.setHours(c.getHours()+12),"AM"!==k[f]&&"am"!==k[f]||12!==c.getHours()||c.setHours(0)}return c},parseLogic:{unpad:function(a){for(var b=a;b.length>1&&"0"===b[0];)b=b.substring(1,b.length);return b},parseInt:function(a){return parseInt(this.unpad(a),10)}}};return e});